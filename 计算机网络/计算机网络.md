# 第1章 计算机网络

## 局域网

- 企业、组织，公司内部自行组建的网络，其所有设备归组织所有，其目的是实现内部用户的办公需求

## 广域网

- 通过向运营商购买不同的广域网连接（带宽、费用），目的是让一家公司能够通过广域网访问远程用户，分公司、以及合作伙伴。

## 服务器

- 是指网络中能对其它机器提供某些服务的计算机系统（如果一个PC对服务器端外提供ftp服务，也可以叫服务器）。

## 客户机

- 是指与服务器相对应，为客户提供本地服务的程序。

## OSI参考模型解析

### 应用层

- 是OSI模型中的最高层，是人机交互的窗口，通过应用层把人的语言输入到计算机当中去，为网络用户之间的通信提供专用的程序服务。

### 表示层

- 负责将接收到的数据翻译成二进制数组成的计算机语言，主要通过数据格式变化、数据加密与解密、数据压缩与解压等。

### 会话层

- 会话层用于建立、管理、中止会话。会话层的主要功能是负责维护两个节点之间的传输联接，确保点到点传输不中断，以及管理数据交换等功能。会话层还可以通过对话控制来决定使用何种通信方式，全双工通信或半双工通信。

网络会话查看

> netstat -n
>
> netstat -nb

微软配置工具

> msconfig

### 传输层

- 将一个数据/文件斩件分成很多小段，标记顺序以被对端接收后可以按顺序重组数据，另外标记该应用程序使用的端口号及提供QOS。传输层起到了承上启下的作用，承接上层软件应用，下启网络数据传输。

> 可靠传输 建立会话 流量控制 差错检查

> 不可靠传输 不建立会话 节省服务器资源

### 网络层

- 路由选路，选择本次通信使用的协议（http、ftp等），指定路由策略及访问控制策略。（IP地址在这一层）

> 选择最佳路径

### 数据链路层

- 根据端口与MAC地址，做分组（VLAN）隔离、端口安全、访问控制。（MAC地址在这一层）处理VLAN内的数据帧转发，跨VLAN间的访问，需要上升到网络层。

> 网络设备 如何封装数据帧 设备地址MAC

### 物理层

- 将数据最终编码为用0、1标识的比特流，然后传输。

> 电压标准 接口标准

**OSI模型每层都有自己的功能集**

**层与层之间相互独立又相互依靠**

**上层依赖于下层，下层为上层提供服务**

## 网络排错和OSI参考模型

> 排错从底层到高层顺序

物理层：连接问题

数据链路层：MAC地址冲突、ADSL拨号密码错误

网络层：计算机网关设置错误、路由器路由表错误

应用层：IE代理设置错误

## 网络安全

物理层安全：设备被盗、设备老化、意外故障、无线电磁辐射泄密等。如果局域网采用广播方式，那么本广播域中的所有信息都可以被侦听。

数据链路层安全：MAC地址认证、ADSL拨号上网账号密码、划分VLAN

- (1)数据机密性。防止在数据交换过程中数据被非法窃听。
- (2)数据完整性。防止在数据交换过程中数据被非法篡改。

网络层安全：路由器ACL

传输层安全：端口安全

应用层安全：网站安全、操作系统安全

## 网络设备

网线：双绞线 8根 100米 10M 100M 1000M

​           线序 直通线

> 同类设备->交叉线
>
> 不同设备->直通线

网卡：MAC 物理地址 硬件地址（不能更改）

查看mac地址 ipconfig /all

集线器：HUB 安全 带宽共享 半双工通信。（冲突域）

> 是指将多条以太网双绞线或光纤集合连接在同一段物理介质下的设备。工作于物理层，它会把收到的任何数字信号，经过再生或放大，再从集线器的所有端口提交，这会造成信号之间碰撞的机会很大，而且信号也可能被窃听，并且这代表所有连到集线器的设备，都是属于同一个碰撞域名以及广播域名。

网桥：工作于数据链路层，不但能扩展网络的距离或范围，而且可提高网络的性能、可靠性和安全性。（交换机取代）

交换机：基于MAC地址转发数据 安全 带宽独享 全双工通信。（广播域）

> 交换机工作于OSI参考模型的第二层，即数据链路层。交换机内部的CPU会在每个端口成功连接时，通过将MAC地址和端口对应，形成一张MAC表。在今后的通讯中，发往该MAC地址的数据包将仅送往其对应的端口，而不是所有的端口。因此，交换机可用于划分数据链路层广播，即冲突域；但它不能划分网络层广播，即广播域。

路由器：负责在不同网段转发数据 一般有广域网接口 隔绝广播 目标MAC地址全1.

## 网络设备和OSI参考模型

- 集线器 物理层设备

- 交换机基础MAC转发 数据链路层设备
- 路由器 基于IP地址转发 三层设备

## 分层考虑问题

- 网络排错方法 替换法

# 第2章 TCP/IP协议

![](E:\资料备份\Learning-Notes-for-Network-Engineers\img\屏幕截图 2024-02-19 144952.png)

## 传输层的两个协议

- 可靠传输

  TCP（数据需要拆分传输时用，建立会话（消耗服务器资源）、丢失重传 netstat -n查看）

- 不可靠传输

  UDP（数据不需要拆分时用，一个数据包就能表达完整的意思，屏幕广播）

## 应用层协议

### 常见默认端口

- http=TCP+80
- ftp=TCP+21（上传、下载） 20（传输）
- https=TCP+443
- SMTP=TCP+25（邮件发送协议）
- POP3=TCP+110（邮件读取协议）
- RDP=TCP+3389（远程桌面）
- DNS=UDP（TCP）+53
- IP访问Window共享文件夹=TCP+445
- SQL=TCP+1433
- telent=TCP+23

## 服务和端口的关系

- 服务侦听端口

- 服务器根据数据包的目标端口来区分客户端请求的服务
- 服务停止 侦听的端口关闭

查看侦听的端口

> netstat -anb 
>
> netstat -anb | find "3389" 













